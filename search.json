[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Meta-analysis in Systematic Reviews",
    "section": "",
    "text": "Welcome\nWelcome to meta-analyses! This guide aims to provide an introduction to doing basic meta-analyses for systematic reviews for a variety of data types. \nA meta-analysis is essentially a tool to analyse the results from many published scientific papers to gain an overall evaluation of the effects of a treatment. In other words:\n\nwhat is our overall conclusion from reviewing all of the papers?\ndo all papers report similar effects or do they differ in their findings?\nis our conclusion heavily influenced by one or two of the papers?\nis it likely that we have missed any papers that might influence our overall conclusion?\n\nTo get started, click on the links on the left of the page. You will see an Introduction followed by sections focussing on particular types of data reported in papers.\nThis guide is written by Dr Richard Cook, Kingston University, London.",
    "crumbs": [
      "Welcome"
    ]
  },
  {
    "objectID": "intro.html",
    "href": "intro.html",
    "title": "1  Introduction",
    "section": "",
    "text": "This guide shows you how to carry out meta analyses for five different types of data:\n\nContinuous data where there are mean and standard deviation values for both an experimental/treatment group and a control group;\nBinary data where there are counts of binary events (eg success or failure, male or female, survival or death, heads or tails etc) in a treatment group and a control group;\nCorrelations where papers report the strength of a relationship between 2 variables;\nPapers that report just a single mean and standard deviation as the result;\nProportions. For example, where the number of people out of a total respond in a particular way.\n\nTo get started, you will need to load the following packages to R (open the box below):\n\n\n\n\n\n\nClick to see packages to load (Copy and paste to Script editor)\n\n\n\n\n\n\nlibrary(tidyverse)\nlibrary(rio)\nlibrary(meta)\nlibrary(dmetar)\n\nTo be able to load dmetar, you must install it first from: devtools::install_github(\"MathiasHarrer/dmetar\") It needs `devtools` to have been installed already. `dmetar` makes some aspects of meta-analysis easier in R. Once installed, you can load dmetar\n\n\n\n Recommended text (online and free) for this subject. Click on the image to go to the book:",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "Continuous_data.html",
    "href": "Continuous_data.html",
    "title": "2  Continuous data - experimental & control means",
    "section": "",
    "text": "2.1 Import the example data file & prepare it for analysis\nThis chapter shows how to do a meta-analysis on raw data in which the mean values of (a) the experimental and (b) the control groups are included, as well as the sample sizes (N) of both groups.  The analysis will use the mean values to calculate Hedge’s g standardised mean difference as the effect size, as well as their 95% confidence intervals (CIs).",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Continuous data - experimental & control means</span>"
    ]
  },
  {
    "objectID": "Continuous_data.html#import-the-example-data-file-prepare-it-for-analysis",
    "href": "Continuous_data.html#import-the-example-data-file-prepare-it-for-analysis",
    "title": "2  Continuous data - experimental & control means",
    "section": "",
    "text": "Click to see guidance to import and prepare the data\n\n\n\n\n\n\nDownload the example Excel file Meta continuous data.xlsx from Canvas and save it to your working directory (remember to set the location where you save this file as your working directory in RStudio).\nImport the file to R and store it as a dataframe object called meta1:\n\n\n1meta1 &lt;- import(\"Meta continuous data.xlsx\")\n2meta1\n\nmeta1 |&gt;\n3  summarise_all(class)\n\n\n1\n\nImports the excel file from your working directory and stores it as an object called meta1\n\n2\n\nView the meta1 dataframe\n\n3\n\nSee the types of data in each column\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAuthor\nMe\nSe\nMc\nSc\nNe\nNc\nSubgroup\nRoB\n\n\n\n\nChioni et al. (2015)\n54.1\n21.1\n35.1\n15.1\n25\n30\nyouth\nHigh\n\n\nCook et al. (2014)\n25.5\n5.5\n17.2\n5.5\n100\n100\nadult\nHigh\n\n\nFielder (2018)\n22.3\n6.6\n14.9\n5.1\n120\n150\nadult\nHigh\n\n\nGould & Kelly (2011)\n25.3\n4.5\n23.3\n3.3\n25\n25\nadult\nLow\n\n\nJones et al. (2010\n31.9\n11.2\n21.4\n10.1\n50\n30\nadult\nHigh\n\n\nMackenzie (2019)\n12.1\n3.3\n15.5\n5.6\n90\n90\nadult\nLow\n\n\nModjatehdi (2021)\n74.7\n25.7\n58.7\n15.7\n100\n100\nadult\nLow\n\n\nPolycarpou (2020)\n45.4\n10.2\n25.4\n9.9\n50\n50\nyouth\nHigh\n\n\nWalker (2011)\n57.6\n15.7\n37.9\n11.1\n70\n60\nadult\nHigh\n\n\nWaller & Hill (2017)\n36.8\n7.3\n25.5\n8.8\n45\n50\nyouth\nHigh\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAuthor\nMe\nSe\nMc\nSc\nNe\nNc\nSubgroup\nRoB\n\n\n\n\ncharacter\nnumeric\nnumeric\nnumeric\nnumeric\nnumeric\nnumeric\ncharacter\ncharacter\n\n\n\n\n\n\nWe will want to create sub-groups in the meta-analysis, so here we will convert the Subgroup variable to a factor:\n\nmeta1 &lt;- meta1 |&gt;\n  mutate(Subgroup = as.factor(Subgroup))\n\nWe can check the data types again:\n\nmeta1 |&gt;\n  summarise_all(class) \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAuthor\nMe\nSe\nMc\nSc\nNe\nNc\nSubgroup\nRoB\n\n\n\n\ncharacter\nnumeric\nnumeric\nnumeric\nnumeric\nnumeric\nnumeric\nfactor\ncharacter\n\n\n\n\n\n\nYou can see that the Subgroup variable is now a factor",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Continuous data - experimental & control means</span>"
    ]
  },
  {
    "objectID": "Continuous_data.html#the-meta-analysis",
    "href": "Continuous_data.html#the-meta-analysis",
    "title": "2  Continuous data - experimental & control means",
    "section": "2.2 The meta-analysis",
    "text": "2.2 The meta-analysis\n(Ch4 Harrer et al.)This will use a random effects model using the imported continuous data stored in the meta1 object and the metacont() function. The meta-analysis results are stored in an object called meta1.cont. This data set has two sub-groups: studies on (a) adults and (b) youths. This meta-analysis will therefore analyse these separately as sub-groups as well as combining all studies. The code therefore has a line specifying ‘subgroup’ as the column in the data headed ‘Subgroup’.\n\n1meta1.cont &lt;- metacont(n.e = Ne, mean.e = Me, sd.e = Se, n.c = Nc, mean.c = Mc, sd.c = Sc,\n                      data = meta1,\n2                      studlab = Author,\n3                      subgroup = Subgroup,\n                      comb.fixed = FALSE,\n                      comb.random = TRUE,\n4                      method.tau = \"SJ\",\n5                      method.random.ci = \"HK\",\n                      prediction = TRUE,\n6                      sm = \"SMD\",\n7                      method.smd = \"Hedges\",\n                      title = \"Staff Studies\")\n8summary(meta1.cont)\n\n\n1\n\nThis line tells R the names of each column\n\n2\n\nThe study label column name in the data file is ‘Author’\n\n3\n\nSpecifies that there are sub-groups in a column called ‘Subgroup’\n\n4\n\nMethod used to calculate tau squared. SJ = Sidik-Jonkman\n\n5\n\nConfidence Intervals calculated with Knapp-Hartung adjustment\n\n6\n\nThe effect size (SMD = standardised mean difference)\n\n7\n\nSpecifies the Hedge’s g effect size. Can also be “Cohen” or “Glass”\n\n8\n\nProduces the output\n\n\n\n\n\n\n\n\n\n\nClick to see the output of the meta-analysis\n\n\n\n\n\n\n\nReview:     Staff Studies\n\n                         SMD             95%-CI %W(random) Subgroup\nChioni et al. (2015)  1.0368 [ 0.4693;  1.6042]        9.4    youth\nCook et al. (2014)    1.5034 [ 1.1888;  1.8179]       10.4    adult\nFielder (2018)        1.2692 [ 1.0061;  1.5324]       10.5    adult\nGould & Kelly (2011)  0.4989 [-0.0647;  1.0625]        9.4    adult\nJones et al. (2010    0.9625 [ 0.4848;  1.4402]        9.8    adult\nMackenzie (2019)     -0.7366 [-1.0387; -0.4345]       10.4    adult\nModjatehdi (2021)     0.7485 [ 0.4616;  1.0354]       10.5    adult\nPolycarpou (2020)     1.9746 [ 1.4935;  2.4557]        9.7    youth\nWalker (2011)         1.4220 [ 1.0352;  1.8089]       10.1    adult\nWaller & Hill (2017)  1.3795 [ 0.9298;  1.8293]        9.9    youth\n\nNumber of studies: k = 10\nNumber of observations: o = 1360 (o.e = 675, o.c = 685)\n\n                        SMD            95%-CI    t p-value\nRandom effects model 1.0014 [ 0.4666; 1.5363] 4.24  0.0022\nPrediction interval         [-0.7030; 2.7059]             \n\nQuantifying heterogeneity (with 95%-CIs):\n tau^2 = 0.5119 [0.2252; 1.7909]; tau = 0.7155 [0.4745; 1.3382]\n I^2 = 94.6% [92.0%; 96.4%]; H = 4.32 [3.53; 5.29]\n\nTest of heterogeneity:\n      Q d.f.  p-value\n 168.12    9 &lt; 0.0001\n\nResults for subgroups (random effects model):\n                   k    SMD           95%-CI  tau^2    tau      Q   I^2\nSubgroup = adult   7 0.8106 [0.0895; 1.5317] 0.5672 0.7531 142.38 95.8%\nSubgroup = youth   3 1.4770 [0.3102; 2.6437] 0.1540 0.3925   6.57 69.6%\n\nTest for subgroup differences (random effects model):\n                  Q d.f. p-value\nBetween groups 2.77    1  0.0961\n\nDetails of meta-analysis methods:\n- Inverse variance method\n- Sidik-Jonkman estimator for tau^2\n- Q-Profile method for confidence interval of tau^2 and tau\n- Calculation of I^2 based on Q\n- Hartung-Knapp adjustment for random effects model (df = 9)\n- Prediction interval based on t-distribution (df = 9)\n- Hedges' g (bias corrected standardised mean difference; using exact formulae)\n\n\n\n\n\nThe output shows:\n\nthe effect sizes (SMD) and CIs for each study\nthe overall effect size = 1.0014; it is statistically significantly different from 0 (no effect) because P = 0.002\nThere is high heterogeneity between the studies: I2 = 94.6%, Q p-value &lt;0.0001\nThe 2 sub-group effect sizes are 0.811 (adults) and 1.477 (youth), but the two groups are not statistically significantly different (P=0.0961)",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Continuous data - experimental & control means</span>"
    ]
  },
  {
    "objectID": "Continuous_data.html#the-forest-plot",
    "href": "Continuous_data.html#the-forest-plot",
    "title": "2  Continuous data - experimental & control means",
    "section": "2.3 The Forest Plot",
    "text": "2.3 The Forest Plot\n(Harrer et al. Ch. 6) The forest plot presents the results of the meta-analysis graphically. It uses the meta-analysis results created above which were stored in an object called meta1.cont.\n\n1png(file = \"forest_cont.png\", width = 3700, height = 1800, res = 300)\n\nforest(meta1.cont, sortvar = TE, \n       smlab = \"Forest Plot: Hedge's g Effect Size\", \n       overall=TRUE, studlab = TRUE, \n       text.predict = \"Prediction interval\", \n       leftcols = c(\"Author\", 'Me', 'Ne', 'Mc', 'Nc'), \n       leftlabs = c(\"Study\", \"Exp Mean\", \"Exp N\", \"Con Mean\", \"Con N\"),\n       plotwidth = \"10cm\", \n       xlab = \"Hedge's g\", \n       label.left = \"Favours Control\", \n       label.right = \"Favours Treatment\", \n       colgap = '0.5cm', \n       colgap.forest = '0.5cm')\n\n2dev.off()\n\n\n1\n\nThis line will save the plot in a png file. Can also save as a pdf() or svg(). Harrer et al. Ch6.\n\n2\n\nTurn off the png() function.\n\n\n\n\nThe 1st line stores the plot in a png file so that it can be easily added to a document. You must start with the png() function where you can specify its size and resolution, and then end with dev.off.  The arguments within the brackets of the forest() function specify what you want to show in the forest plot and how it is to be displayed. You can change just about anything in the plot - see Harrer et al. Ch 6.\nThe forest plot looks like this:\n\n\n\n\n\n\n\nYou can see the analysis of the sub-groups easily (effect sizes of 0.81 and 1.48), as well as the overall effect size of 1.00. All of them are statistically significant (P&lt;0.05), so there is a significant effect in both groups and overall.  However, heterogeneity is high in both groups and overall (although smaller in the youth sub-group.)",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Continuous data - experimental & control means</span>"
    ]
  },
  {
    "objectID": "Continuous_data.html#influence-diagnostics",
    "href": "Continuous_data.html#influence-diagnostics",
    "title": "2  Continuous data - experimental & control means",
    "section": "2.4 Influence Diagnostics",
    "text": "2.4 Influence Diagnostics\nInfluential cases have a large impact on the pooled effect or heterogeneity, regardless of how high or low the effect is. For example one very large study will have a high weight and may influence the pooled effect strongly. Outliers may be influential, but not always.  (a) To calculate influence diagnostics, use the InfluenceAnalysis() function (part of the dmetar package)\n\nmeta.cont.infl &lt;- InfluenceAnalysis(meta1.cont)\n\n(b) Then create a Baujat plot: this detects studies that strongly influence heterogeneity. It shows the contribution of each paper to heterogeneity on x-axis & its influence (via leave-one-out method) on the pooled effect size on y-axis. Studies in the top right a have strong effect on heterogeneity and on the pooled effect.\n\nplot(meta.cont.infl, \"baujat\")\n\n\n\n\n\n\n\nClick to see the Baujat plot\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n(c) A plot of the full influence diagnostics can be seen with the plot() function. Studies thought to be influential are displayed in red.\n\nplot(meta.cont.infl, \"influence\")\n\n\n\n\n\n\n\nClick to see the influence diagnostics plot plot\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nStand. residual: standardised residuals are the standardised deviation of the effect size of each paper from the pooled effect size.\nDFFITS value: reports similar effect to Stand. residuals. Indicates how much the pooled effect changes when a study is removed, expressed in standard deviations (ie how much influence the paper has).\nCook’s distance: similar to DFFITS calculation, but only has +ve values. Large value = strong influence.\nCovariance ratio: calculates how variance of the pooled effect size changes when a study is removed. Value &lt;1 indicates that removing a study results in a more precise estimate of the pooled effect size.\nTau-squared (L-O-O means Leave one out) & Q values: Tau-square (variance of the pooled effect size) and Q-values when each study is excluded.\nHat and Weight values: weight is simply the size of the study. Higher weight = greater precision of a study. Weights used to calc pooled effect size. Inverse of the variance of a study = weight. HAT value is similar.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Continuous data - experimental & control means</span>"
    ]
  },
  {
    "objectID": "Continuous_data.html#publication-bias",
    "href": "Continuous_data.html#publication-bias",
    "title": "2  Continuous data - experimental & control means",
    "section": "2.5 Publication Bias",
    "text": "2.5 Publication Bias\nPublication bias occurs when studies, usually smaller ones, are not published because they do not report statistically significant effects. Consequently, a meta-analysis could over-emphasise an effect if such papers are excluded. Publication bias tests attempt to estimate if there might be such missing papers. Here, we will create (1) a funnel plot, (2) perform Egger’s regression test and (3) Duval & Tweedie’s trim-and-fill test. \n\n2.5.1 The Funnel Plot\nTo generate a funnel plot for the meta1.cont object that stores the results of the meta-analysis (Note: smd is Hedge’s g and not Cohen’s d by default in the meta function):\n\nfunnel(meta1.cont, \n1       xlab = \"Hedge's g\",\n2       xlim=c(-0.75, 2.1),\n3       studlab = TRUE,\n4       pos.studlab = 3)\n\n\n1\n\nSpecifies the label on the x-axis\n\n2\n\noptional: use xlim() if you want to change the range on the x-axis\n\n3\n\nTo add labels to each study\n\n4\n\nThe number indicates the position of the labels. 3 means centered.\n\n\n\n\n\n\n\n\n\n\nClick to see the funnel plot\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n2.5.2 Egger’s Regression\nAssesses funnel plot symmetry. If the funnel plot is symmetrical, it suggests that there are no missing studies. In this case, meta1.cont has subgroups. Egger’s regression test cannot be performed on a meta-analysis with subgroups. So, I will re-do the above meta-analysis without the subgroups and store it in another object called meta1.contE:\n\nmeta1.contE &lt;- metacont(n.e = Ne, mean.e = Me, sd.e = Se, n.c = Nc, mean.c = Mc, sd.c = Sc,\n                         data = meta1,\n                         studlab = Author,    \n                         common = FALSE,\n                         random = TRUE,\n                         method.tau = \"SJ\",  \n                         method.random.ci = \"HK\",  \n                         prediction = TRUE,\n                         sm = \"SMD\",        \n                         method.smd = \"Hedges\", \n                         title = \"Staff Studies\")\n\nand then do the Egger’s regression test:\n\nmetabias(meta1.contE, method.bias = \"linreg\")\n\n\n\n\n\n\n\nClick to see Egger’s Regression test output\n\n\n\n\n\n\n\nReview:     Staff Studies\n\nLinear regression test of funnel plot asymmetry\n\nTest result: t = 0.59, df = 8, p-value = 0.5718\nBias estimate: 3.1890 (SE = 5.4093)\n\nDetails:\n- multiplicative residual heterogeneity variance (tau^2 = 20.1402)\n- predictor: standard error\n- weight:    inverse variance\n- reference: Egger et al. (1997), BMJ\n\n\nP&gt;0.05 means the data is symmetrical, there do not appear to be any missing studies.\n\n\n\n\n\n2.5.3 Duval & Tweedie’s trim-and-fill\nIf there is asymmetry, it imputes ‘missing’ studies and adds them until symmetry is achieved. Assumes there are small studies that are missing. It re-does the meta-analysis and estimates pooled effect size as if all studies had been included.\n\ntf.cont &lt;- trimfill(meta1.cont)\ntf.cont\n\n\n\n\n\n\n\nClick to see Duval & Tweedie’s trim-and-fill output\n\n\n\n\n\n\n\nReview:     Staff Studies\n\nNumber of studies: k = 13 (with 3 added studies)\nNumber of observations: o = 1790 (o.e = 895, o.c = 895)\n\n                        SMD            95%-CI    t p-value\nRandom effects model 0.6995 [ 0.1724; 1.2267] 2.89  0.0135\nPrediction interval         [-1.2169; 2.6160]             \n\nQuantifying heterogeneity (with 95%-CIs):\n tau^2 = 0.7152 [0.3482; 2.0235]; tau = 0.8457 [0.5901; 1.4225]\n I^2 = 95.4% [93.5%; 96.7%]; H = 4.64 [3.92; 5.49]\n\nTest of heterogeneity:\n      Q d.f.  p-value\n 258.16   12 &lt; 0.0001\n\nDetails of meta-analysis methods:\n- Inverse variance method\n- Sidik-Jonkman estimator for tau^2\n- Q-Profile method for confidence interval of tau^2 and tau\n- Calculation of I^2 based on Q\n- Hartung-Knapp adjustment for random effects model (df = 12)\n- Prediction interval based on t-distribution (df = 12)\n- Trim-and-fill method to adjust for funnel plot asymmetry (L-estimator)\n\n\nHere, you can see that the function has added 3 studies which has assumed have not been published. It has revised the effect size from 1.0014 (P=0.0022) originally to 0.6995 (P=0.0135)\n\n\n\n You can then also re-do the funnel plot, using the tf.cont object that we have just created above, with the imputed studies added:\n\nfunnel(tf.cont, xlab = \"Hedge's g\", studlab = TRUE, xlim=c(-0.75, 2.1), pos.studlab = 3)\n\n\n\n\n\n\n\nClick to see the revised funnel plot\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nThe ‘imputed’ studies that have been added are shown with open circles. You can see that the trimfill() function has added 3 studies with negative effects near the Mackenzie study.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Continuous data - experimental & control means</span>"
    ]
  },
  {
    "objectID": "Binary.html",
    "href": "Binary.html",
    "title": "3  Binary data - experimental & control counts",
    "section": "",
    "text": "3.1 Import the data file & prepare it for analysis:\nThis chapter shows how to do a meta-analysis on raw data in which the counts of binary events are recorded for (a) an experimental and (b) a control group, as well as the sample sizes (N) of both groups.   Binary events are where there are two possible outcomes. For example, numbers reporting success/failure, recovery/no recovery, survival/death, or male/female in experimental and control groups. The data you need for both the experimental and control groups are (a) the count of one of the binary events, eg survival, and (b) the total number of people in each group.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Binary data - experimental & control counts</span>"
    ]
  },
  {
    "objectID": "Binary.html#import-the-data-file-prepare-it-for-analysis",
    "href": "Binary.html#import-the-data-file-prepare-it-for-analysis",
    "title": "3  Binary data - experimental & control counts",
    "section": "",
    "text": "Click to see guidance to import and prepare the data\n\n\n\n\n\n\nDownload the example Excel file Meta analysis Binary data.xlsx from Canvas and save it to your working directory (remember to set the location where you save this file as your working directory in RStudio).\nThis shows the number of people who recover in a treatment group (Recov.treat) and a control group (Recov.con), together with the total numbers of participants in each group.\nImport the file to R and store it as a dataframe object called meta.bin:\n\n\n1meta.bin &lt;- import(\"Meta analysis Binary data.xlsx\")\n2meta.bin\n\nmeta.bin |&gt;\n3  summarise_all(class)\n\n\n1\n\nImports the excel file from your working directory and stores it as an object called meta.bin\n\n2\n\nView the meta.bin dataframe\n\n3\n\nSee the types of data in each column\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAuthor\nRecov.treat\nN.treat\nRecov.con\nN.con\nSubgroup\nRoB\n\n\n\n\nCook et al. (2014)\n25\n100\n17\n100\nadult\nHigh\n\n\nJones et al. (2010\n31\n150\n21\n140\nadult\nHigh\n\n\nFielder (2018)\n22\n75\n15\n100\nadult\nHigh\n\n\nChioni et al. (2015)\n54\n200\n35\n200\nyouth\nHigh\n\n\nWaller & Hill (2017)\n36\n65\n25\n100\nyouth\nHigh\n\n\nWalker (2011)\n57\n150\n37\n150\nadult\nHigh\n\n\nMackenzie (2019)\n12\n50\n15\n50\nadult\nLow\n\n\nPolycarpou (2020)\n45\n150\n25\n150\nyouth\nHigh\n\n\nGould & Kelly (2011)\n25\n50\n23\n100\nadult\nLow\n\n\nModjatehdi (2021)\n74\n250\n58\n250\nadult\nLow\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAuthor\nRecov.treat\nN.treat\nRecov.con\nN.con\nSubgroup\nRoB\n\n\n\n\ncharacter\nnumeric\nnumeric\nnumeric\nnumeric\ncharacter\ncharacter\n\n\n\n\n\n\nWe will want to create sub-groups (adult or youth) in the meta-analysis, so here we will convert the Subgroup variable to a factor:\n\nmeta.bin &lt;- meta.bin |&gt;\n  mutate(Subgroup = as.factor(Subgroup))\n\nWe can check the data types again:\n\nmeta.bin |&gt;\n  summarise_all(class) \n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAuthor\nRecov.treat\nN.treat\nRecov.con\nN.con\nSubgroup\nRoB\n\n\n\n\ncharacter\nnumeric\nnumeric\nnumeric\nnumeric\nfactor\ncharacter\n\n\n\n\n\n\nYou can see that the Subgroup variable is now a factor",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Binary data - experimental & control counts</span>"
    ]
  },
  {
    "objectID": "Binary.html#the-meta-analysis",
    "href": "Binary.html#the-meta-analysis",
    "title": "3  Binary data - experimental & control counts",
    "section": "3.2 The meta-analysis",
    "text": "3.2 The meta-analysis\n(See Ch4 Harrer et al.) This will use a random effects model using the imported binary data stored in the meta.bin object and the metabin() function. The meta-analysis results are stored in an object called meta.bin.result. This data set has two sub-groups: studies on (a) adults and (b) youths. This meta-analysis will therefore analyse these separately as sub-groups as well as combining all studies. The code therefore has a line specifying ‘subgroup’ as the column in the data headed ‘Subgroup’.\n\n1meta1.bin.result &lt;- metabin(event.e = Recov.treat, n.e = N.treat, event.c = Recov.con, n.c = N.con,\n                        data = meta.bin,\n2                        studlab = Author,\n3                        subgroup = Subgroup,\n                        common = FALSE,  \n                        random = TRUE,  \n4                        method.tau = \"SJ\",\n5                        method.random.ci = \"HK\",\n6                        prediction = TRUE,\n7                        sm = \"OR\",\n                     title = \"Staff studies binary\")\n8summary(meta.bin.result)\n\n\n1\n\nThis line tells R the names of each column\n\n2\n\nThe study label column name in the data file is ‘Author’\n\n3\n\nSpecifies that there are sub-groups in a column called ‘Subgroup’\n\n4\n\nMethod used to calculate tau squared. SJ = Sidik-Jonkman\n\n5\n\nConfidence Intervals calculated with Hartung-Knapp adjustment\n\n6\n\nCalculates the prediction interval\n\n7\n\nThe effect size (OR = Odds Ratio)\n\n8\n\nProduces the output\n\n\n\n\n\n\n\n\n\n\nClick to see the output of the meta-analysis\n\n\n\n\n\n\n\nReview:     Staff studies binary\n\n                         OR           95%-CI %W(random) Subgroup\nCook et al. (2014)   1.6275 [0.8157; 3.2471]        8.9    adult\nJones et al. (2010   1.4762 [0.8025; 2.7153]       10.1    adult\nFielder (2018)       2.3522 [1.1217; 4.9327]        8.3    adult\nChioni et al. (2015) 1.7436 [1.0788; 2.8181]       12.1    youth\nWaller & Hill (2017) 3.7241 [1.9126; 7.2515]        9.2    youth\nWalker (2011)        1.8718 [1.1393; 3.0754]       11.8    adult\nMackenzie (2019)     0.7368 [0.3034; 1.7892]        6.7    adult\nPolycarpou (2020)    2.1429 [1.2320; 3.7271]       10.9    youth\nGould & Kelly (2011) 3.3478 [1.6230; 6.9057]        8.5    adult\nModjatehdi (2021)    1.3918 [0.9330; 2.0763]       13.5    adult\n\nNumber of studies: k = 10\nNumber of observations: o = 2580 (o.e = 1240, o.c = 1340)\nNumber of events: e = 652\n\n                         OR           95%-CI    t p-value\nRandom effects model 1.8705 [1.3875; 2.5217] 4.74  0.0011\nPrediction interval         [0.7976; 4.3867]             \n\nQuantifying heterogeneity (with 95%-CIs):\n tau^2 = 0.1202 [0.0000; 0.5582]; tau = 0.3467 [0.0000; 0.7471]\n I^2 = 36.9% [0.0%; 69.9%]; H = 1.26 [1.00; 1.82]\n\nTest of heterogeneity:\n     Q d.f. p-value\n 14.27    9  0.1132\n\nResults for subgroups (random effects model):\n                   k     OR           95%-CI  tau^2    tau    Q   I^2\nSubgroup = adult   7 1.6870 [1.1424; 2.4912] 0.1197 0.3460 8.79 31.8%\nSubgroup = youth   3 2.3054 [0.9008; 5.9006] 0.0802 0.2832 3.30 39.5%\n\nTest for subgroup differences (random effects model):\n                  Q d.f. p-value\nBetween groups 1.33    1  0.2480\n\nDetails of meta-analysis methods:\n- Inverse variance method\n- Sidik-Jonkman estimator for tau^2\n- Q-Profile method for confidence interval of tau^2 and tau\n- Calculation of I^2 based on Q\n- Hartung-Knapp adjustment for random effects model (df = 9)\n- Prediction interval based on t-distribution (df = 9)\n\n\n\n\n\nThe output shows:\n\nthe effect sizes (OR) and CIs for each study\nthe overall effect size = 1.8705; it is statistically significantly different from 1 (no effect) because P = 0.0011.\nThere is low heterogeneity between the studies: I2 = 36.9%, Q p-value = 0.1132\nThe 2 sub-group effect sizes are 1.687 (adults) and 2.305 (youth), but the two groups are not statistically significantly different (P=0.248) \n\nNB1 Odds ratio = 1 means that the effect of the experimental group is the same as the control group. In this study the OR = 1.87, and so overall the odds of success in the experimental group are 1.87 times that in the control group. NB2 The metabin() function automatically converts odds to log odds for the calculations, but the reconverts them back to normal odds for the output\n\n\n\n\n\n\nTo see the log odds (loge) value of the pooled effect size\n\n\n\n\n\n\nmeta.bin.result$TE.random\n\n[1] 0.6262237\n\n\nTo convert the loge it back to normal, take the exponential:\n\nexp(meta.bin.result$TE.random)\n\n[1] 1.870533",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Binary data - experimental & control counts</span>"
    ]
  },
  {
    "objectID": "Binary.html#the-forest-plot",
    "href": "Binary.html#the-forest-plot",
    "title": "3  Binary data - experimental & control counts",
    "section": "3.3 The Forest Plot",
    "text": "3.3 The Forest Plot\n(See Ch6 Harrer et al.) The forest plot presents the results of the meta-analysis graphically. It uses the meta-analysis results created above which were stored in an object called meta.bin.result.\n\n1png(file = \"forest_bin.png\", width = 3800, height = 1600, res = 300)\n\nforest(meta.bin.result, \n       sortvar = TE, \n       smlab = \"Forest Plot: Odds Ratio\", \n       overall=TRUE, \n       studlab = TRUE, \n       text.predict = \"Prediction interval\", \n       leftcols = c(\"Author\", 'Recov.treat', 'N.treat', 'Recov.con', 'N.con'), \n       leftlabs = c(\"Study\", \"E.Recovery\", \"E.Total\", \"C.Recovery\", \"C.Total\"), \n       plotwidth = \"8cm\", \n       xlab = \"Odds Ratio\", \n       label.left = \"Favours Control\", \n       label.right = \"Favours Experiment\", \n       colgap = '0.3cm', \n       colgap.forest = '0.3cm')\n2dev.off()\n\n\n1\n\nThis line will save the plot in a png file. Can also save as a pdf() or svg(). Harrer et al. Ch6.\n\n2\n\nTurns off the png() function.\n\n\n\n\nThe forest plot has a default layout, but you can specify which columns to include with leftcols() and re-title them with leftlabs(). rightcols() specifies which columns appear on the right. Other arguments specify layout - see Harrer et al. Ch 6.\nThe forest plot looks like this:",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Binary data - experimental & control counts</span>"
    ]
  },
  {
    "objectID": "Binary.html#influence-diagnostics",
    "href": "Binary.html#influence-diagnostics",
    "title": "3  Binary data - experimental & control counts",
    "section": "3.4 Influence Diagnostics",
    "text": "3.4 Influence Diagnostics\nInfluential cases have a large impact on the pooled effect or heterogeneity, regardless of how high or low the effect is. For example one very large study will have a high weight and may influence the pooled effect strongly. Outliers may be influential, but not always.  (a) To calculate influence diagnostics, use the InfluenceAnalysis() function (part of the dmetar package):\n\nmeta.bin.infl &lt;- InfluenceAnalysis(meta.bin.result)\n\n(b) Then create a Baujat plot: this detects studies that strongly influence heterogeneity. It shows the contribution of each paper to heterogeneity on x-axis & its influence (via leave-one-out method) on the pooled effect size on y-axis. Studies in the top right have a strong effect on heterogeneity and on the pooled effect.\n\nplot(meta.bin.infl, \"baujat\")\n\n\n\n\n\n\n\nClick to see the Baujat plot\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n(c) A plot of the full influence diagnostics can be seen with the plot() function. Studies thought to be influential are displayed in red.\n\nplot(meta.bin.infl, \"influence\")\n\n\n\n\n\n\n\nClick to see the influence diagnostics plot plot\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nStand. residual: standardised residuals are the standardised deviation of the effect size of each paper from the pooled effect size.\nDFFITS value: reports similar effect to Stand. residuals. Indicates how much the pooled effect changes when a study is removed, expressed in standard deviations (ie how much influence the paper has).\nCook’s distance: similar to DFFITS calculation, but only has +ve values. Large value = strong influence.\nCovariance ratio: calculates how variance of the pooled effect size changes when a study is removed. Value &lt;1 indicates that removing a study results in a more precise estimate of the pooled effect size.\nTau-squared (L-O-O means Leave one out) & Q values: Tau-square (variance of the pooled effect size) and Q-values when each study is excluded.\nHat and Weight values: weight is simply the size of the study. Higher weight = greater precision of a study. Weights used to calc pooled effect size. Inverse of the variance of a study = weight. HAT value is similar.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Binary data - experimental & control counts</span>"
    ]
  },
  {
    "objectID": "Binary.html#publication-bias",
    "href": "Binary.html#publication-bias",
    "title": "3  Binary data - experimental & control counts",
    "section": "3.5 Publication Bias",
    "text": "3.5 Publication Bias\nPublication bias occurs when studies, usually smaller ones, are not published because they do not report statistically significant effects. Consequently, a meta-analysis could over-emphasise an effect if such papers are excluded. Publication bias tests attempt to estimate if there might be such missing papers. Here, we will create (1) a funnel plot, (2) perform Egger’s regression test and (3) Duval & Tweedie’s trim-and-fill test. \n\n3.5.1 The Funnel Plot\nTo generate a funnel plot for the meta1.cont object that stores the results of the meta-analysis:\n\nfunnel(meta.bin.result, \n1       xlab = \"Odds Ratio\",\n2       studlab = TRUE,\n3       pos.studlab = 3,\n4       cex.studlab = 0.4,\n5       xlim=c(0.6, 5.0))\n\n\n1\n\nSpecifies the label on the x-axis\n\n2\n\nTo add labels to each study\n\n3\n\nThe number indicates the position of the labels. 3 means centered.\n\n4\n\nChanges the font size of the text for the study labels\n\n5\n\nUse xlim() if you want to change the range on the x-axis\n\n\n\n\n\n\n\n\n\n\nClick to see the funnel plot\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n3.5.2 Egger’s Regression\nAssesses funnel plot symmetry. If the funnel plot is symmetrical, it suggests that there are no missing studies. In this case, meta.bin has subgroups. Egger’s regression test cannot be performed on a meta-analysis with subgroups. So, I will re-do the above meta-analysis without the subgroups and store it in another object called meta.bin.resultE:\n\nmeta.bin.resultE &lt;- metabin(event.e = Recov.treat, n.e = N.treat, event.c = Recov.con, n.c = N.con, \n                        data = meta.bin,\n                        studlab = Author,  \n                        common = FALSE,  \n                        random = TRUE,  \n                        method.tau = \"SJ\", \n                        method.random.ci = \"HK\",  \n                        prediction = TRUE, \n                        sm = \"OR\",\n                     title = \"Staff studies binary\")\n\nand then do the Egger’s regression test:\n\nmetabias(meta.bin.resultE, method.bias = \"peters\")\n\n\n\n\n\n\n\nClick to see Egger’s Regression test output\n\n\n\n\n\n\n\nReview:     Staff studies binary\n\nLinear regression test of funnel plot asymmetry\n\nTest result: t = 0.58, df = 8, p-value = 0.5788\nBias estimate: 36.4800 (SE = 63.0483)\n\nDetails:\n- multiplicative residual heterogeneity variance (tau^2 = 7.2802)\n- predictor: inverse of total sample size\n- weight:    inverse variance of average event probability\n- reference: Peters et al. (2006), JAMA\n\n\nP&gt;0.05 means the data is symmetrical, and there do not appear to be any missing studies.\n\n\n\n\n\n3.5.3 Duval & Tweedie’s trim-and-fill\nIf there is asymmetry, it imputes ‘missing’ studies and adds them until symmetry is achieved. Assumes there are small studies that are missing. It re-does the meta-analysis and estimates pooled effect size as if all studies had been included.\n\ntf.bin &lt;- trimfill(meta.bin.result)\ntf.bin\n\n\n\n\n\n\n\nClick to see Duval & Tweedie’s trim-and-fill output\n\n\n\n\n\n\n\nReview:     Staff studies binary\n\nNumber of studies: k = 10 (with 0 added studies)\nNumber of observations: o = 2580 (o.e = 1240, o.c = 1340)\nNumber of events: e = 652\n\n                         OR           95%-CI    t p-value\nRandom effects model 1.8705 [1.3875; 2.5217] 4.74  0.0011\nPrediction interval         [0.7976; 4.3867]             \n\nQuantifying heterogeneity (with 95%-CIs):\n tau^2 = 0.1202 [0.0000; 0.5582]; tau = 0.3467 [0.0000; 0.7471]\n I^2 = 36.9% [0.0%; 69.9%]; H = 1.26 [1.00; 1.82]\n\nTest of heterogeneity:\n     Q d.f. p-value\n 14.27    9  0.1132\n\nDetails of meta-analysis methods:\n- Inverse variance method\n- Sidik-Jonkman estimator for tau^2\n- Q-Profile method for confidence interval of tau^2 and tau\n- Calculation of I^2 based on Q\n- Hartung-Knapp adjustment for random effects model (df = 9)\n- Prediction interval based on t-distribution (df = 9)\n- Trim-and-fill method to adjust for funnel plot asymmetry (L-estimator)\n\n\nHere, you can see that the function has not added any additional studies which it has assumed have not been published. The odds ratio effect size remains at 1.8705.\n\n\n\n You can then also re-do the funnel plot, using the tf.bin object that we have just created above, with the imputed studies added (NB there is no need to do this for this example data as there are no imputed missing studies, but it is done here to show you how):\n\nfunnel(tf.bin, \n       xlab = \"Odds Ratio\", \n       studlab = TRUE, \n       pos.studlab = 3, \n       cex.studlab = 0.4, \n       xlim=c(0.6, 5.0))\n\n\n\n\n\n\n\nClick to see the revised funnel plot\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nThe ‘imputed’ studies that are added are shown with open circles. There are no missing studies in this example data set.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Binary data - experimental & control counts</span>"
    ]
  },
  {
    "objectID": "Correlation.html",
    "href": "Correlation.html",
    "title": "4  Correlations",
    "section": "",
    "text": "4.1 Import the data file & prepare it for analysis:\nThis chapter shows how to do a meta-analysis for data reported as correlations between two variables, namely the health of people and their feeling of well-being. The data needed to carry out the analysis are (a) the correlation coefficient reported by each paper and (b) the total number of participants/observations.",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Correlations</span>"
    ]
  },
  {
    "objectID": "Correlation.html#import-the-data-file-prepare-it-for-analysis",
    "href": "Correlation.html#import-the-data-file-prepare-it-for-analysis",
    "title": "4  Correlations",
    "section": "",
    "text": "Click to see guidance to import and prepare the data\n\n\n\n\n\n\nDownload the example Excel file Meta analysis corr data.xlsx from Canvas and save it to your working directory (remember to set the location where you save this file as your working directory in RStudio).\nImport the file to R and store it as a dataframe object called meta.corr:\n\n\n1meta.corr &lt;- import(\"Meta analysis corr data.xlsx\")\n2meta.corr\n\nmeta.corr |&gt;\n3  summarise_all(class)\n\n\n1\n\nImports the excel file from your working directory and stores it as an object called meta.corr\n\n2\n\nView the meta.corr dataframe\n\n3\n\nSee the types of data in each column\n\n\n\n\n\n\n\n\nauthor\ncor\nn\npopulation\ncountry\n\n\n\n\nAn, 2008\n0.620\n121\ngeneral population\nSouth Korea\n\n\nAngner, 2013\n0.372\n383\nchronic condition\nUSA\n\n\nBarger, 2009\n0.290\n350000\ngeneral population\nUSA\n\n\nDoherty, 2013\n0.333\n1764\ngeneral population\nIreland\n\n\nDubrovina, 2012\n0.730\n42331\ngeneral population\nPoland\n\n\nFisher, 2010\n0.405\n112\nchronic condition\nAustralia\n\n\nGana, 2013\n0.292\n899\ngeneral population\nFrance\n\n\nGarrido, 2013\n0.388\n870\ngeneral population\nSpain\n\n\nGoldbeck, 2001\n0.360\n70\nchronic condition\nGermany\n\n\nJacobsson, 2010\n0.308\n67\nchronic condition\nSweden\n\n\nKim, 2012\n0.350\n246\nchronic condition\nSouth Korea\n\n\nKoots-Ausmees, 2015\n0.340\n285086\ngeneral population\nEurope\n\n\nKulczycka, 2010\n0.420\n83\nchronic condition\nPoland\n\n\nLacruz, 2012\n0.190\n2675\ngeneral population\nGermany\n\n\nLiang, 2014\n0.490\n19000\ngeneral population\nChina\n\n\nMatthews, 2002\n0.470\n612\nchronic condition\nUSA\n\n\nMukuria, 2013\n0.294\n15184\ngeneral population\nUK\n\n\nMukuria, 2015\n0.390\n6808\ngeneral population\nUK\n\n\nNgamaba, 2016\n0.498\n3030\ngeneral population\nRwanda\n\n\nNgamaba, 2017\n0.290\n85070\ngeneral population\nWorldwide\n\n\nPatten, 2010\n0.160\n245\nchronic condition\nCanada\n\n\nSabatini, 2014\n0.220\n817\ngeneral population\nItaly\n\n\nTakeyachi, 2003\n0.202\n816\nchronic condition\nJapan\n\n\nTuchtenhagen, 2015\n0.290\n1134\nchronic condition\nBrazil\n\n\nWang, 2002\n0.320\n142\nchronic condition\nJapan\n\n\nWang, 2015\n0.320\n5854\ngeneral population\nChina\n\n\nYildirim, 2013\n0.390\n396\ngeneral population\nTurkey\n\n\nZajacova, 2014\n0.244\n3722\ngeneral population\nUSA\n\n\nZagorski, 2013\n0.360\n26257\ngeneral population\nEurope\n\n\n\n\n\n\n\n\nauthor\ncor\nn\npopulation\ncountry\n\n\n\n\ncharacter\nnumeric\nnumeric\ncharacter\ncharacter\n\n\n\n\n\n\nWe will want to create sub-groups for the population (general or chronic) in the meta-analysis, so here we will convert the population variable to a factor:\n\nmeta.corr &lt;- meta.corr |&gt;\n  mutate(population = as.factor(population))\n\nWe can check the data types again:\n\nmeta.corr |&gt;\n  summarise_all(class) \n\n\n\n\n\nauthor\ncor\nn\npopulation\ncountry\n\n\n\n\ncharacter\nnumeric\nnumeric\nfactor\ncharacter\n\n\n\n\n\n\nYou can see that the Subgroup variable is now a factor",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Correlations</span>"
    ]
  },
  {
    "objectID": "Correlation.html#the-meta-analysis",
    "href": "Correlation.html#the-meta-analysis",
    "title": "4  Correlations",
    "section": "4.2 The meta-analysis",
    "text": "4.2 The meta-analysis\n(See Ch4 Harrer et al.) This will use a random effects model using the imported correlation data stored in the meta.corr object and the metacor() function. The meta-analysis results are stored in an object called m.cor. This data set has two sub-groups: studies on (a) the general population and (b) people with a chronic illness. This meta-analysis will therefore analyse the association of health and well-being separately as sub-groups as well as combining all studies. The code therefore has a line specifying ‘subgroup’ as the column in the data headed ‘population’.\n\n1m.cor &lt;- metacor(cor = cor,\n                 n = n,\n2                 studlab = author,\n3                 data = meta.corr,\n                 fixed = FALSE,\n4                 random = TRUE,\n5                 method.tau = \"REML\",\n6                 method.random.ci = \"HK\",\n7                 subgroup = population,\n8                 title = \"Health and Wellbeing\")\n9summary(m.cor)\n\n\n1\n\nThe correlation coefficients are in a column headed ‘cor’\n\n2\n\nThe names of each study are in a column headed ‘author’\n\n3\n\nThe data is in a dataframe object called ‘meta.corr’\n\n4\n\nA random effects model is used\n\n5\n\nMethod used to calculate tau squared. REML=restricted maximum likelihood\n\n6\n\nConfidence Intervals calculated with Hartung-Knapp adjustment\n\n7\n\nThere are sub-groups in a column called ‘population’\n\n8\n\nThe title for the output\n\n9\n\nProduces the output\n\n\n\n\n\n\n\n\n\n\nClick to see the output of the meta-analysis\n\n\n\n\n\n\n\nReview:     Health and Wellbeing\n\n                       COR           95%-CI %W(random)         population\nAn, 2008            0.6200 [0.4964; 0.7189]        2.8 general population\nAngner, 2013        0.3720 [0.2823; 0.4552]        3.4  chronic condition\nBarger, 2009        0.2900 [0.2870; 0.2930]        3.8 general population\nDoherty, 2013       0.3330 [0.2908; 0.3739]        3.7 general population\nDubrovina, 2012     0.7300 [0.7255; 0.7344]        3.8 general population\nFisher, 2010        0.4050 [0.2373; 0.5493]        2.8  chronic condition\nGana, 2013          0.2920 [0.2310; 0.3507]        3.6 general population\nGarrido, 2013       0.3880 [0.3300; 0.4430]        3.6 general population\nGoldbeck, 2001      0.3600 [0.1366; 0.5486]        2.4  chronic condition\nJacobsson, 2010     0.3080 [0.0732; 0.5104]        2.3  chronic condition\nKim, 2012           0.3500 [0.2352; 0.4551]        3.3  chronic condition\nKoots-Ausmees, 2015 0.3400 [0.3367; 0.3432]        3.8 general population\nKulczycka, 2010     0.4200 [0.2247; 0.5829]        2.5  chronic condition\nLacruz, 2012        0.1900 [0.1532; 0.2263]        3.7 general population\nLiang, 2014         0.4900 [0.4791; 0.5007]        3.8 general population\nMatthews, 2002      0.4700 [0.4059; 0.5295]        3.6  chronic condition\nMukuria, 2013       0.2940 [0.2794; 0.3085]        3.8 general population\nMukuria, 2015       0.3900 [0.3697; 0.4100]        3.8 general population\nNgamaba, 2016       0.4980 [0.4707; 0.5243]        3.8 general population\nNgamaba, 2017       0.2900 [0.2838; 0.2961]        3.8 general population\nPatten, 2010        0.1600 [0.0354; 0.2797]        3.3  chronic condition\nSabatini, 2014      0.2200 [0.1537; 0.2843]        3.6 general population\nTakeyachi, 2003     0.2020 [0.1352; 0.2669]        3.6  chronic condition\nTuchtenhagen, 2015  0.2900 [0.2358; 0.3424]        3.7  chronic condition\nWang, 2002          0.3200 [0.1639; 0.4605]        2.9  chronic condition\nWang, 2015          0.3200 [0.2968; 0.3428]        3.8 general population\nYildirim, 2013      0.3900 [0.3031; 0.4705]        3.4 general population\nZajacova, 2014      0.2440 [0.2135; 0.2740]        3.8 general population\nZagorski, 2013      0.3600 [0.3494; 0.3705]        3.8 general population\n\nNumber of studies: k = 29\nNumber of observations: o = 853794\n\n                        COR           95%-CI     t  p-value\nRandom effects model 0.3632 [0.3092; 0.4148] 12.81 &lt; 0.0001\n\nQuantifying heterogeneity (with 95%-CIs):\n tau^2 = 0.0241 [0.0141; 0.0436]; tau = 0.1554 [0.1186; 0.2088]\n I^2 = 99.8%; H = 24.14\n\nTest of heterogeneity:\n        Q d.f. p-value\n 16320.87   28       0\n\nResults for subgroups (random effects model):\n                                  k    COR           95%-CI  tau^2    tau\npopulation = chronic condition   11 0.3291 [0.2622; 0.3929] 0.0091 0.0956\npopulation = general population  18 0.3793 [0.2994; 0.4540] 0.0318 0.1784\n                                       Q   I^2\npopulation = chronic condition     44.49 77.5%\npopulation = general population 16272.51 99.9%\n\nTest for subgroup differences (random effects model):\n                  Q d.f. p-value\nBetween groups 1.13    1  0.2875\n\nDetails of meta-analysis methods:\n- Inverse variance method\n- Restricted maximum-likelihood estimator for tau^2\n- Q-Profile method for confidence interval of tau^2 and tau\n- Calculation of I^2 based on Q\n- Hartung-Knapp adjustment for random effects model (df = 28)\n- Fisher's z transformation of correlations\n\n\n\n\n\nThe output shows:\n\nthe effect sizes (COR; the correlation coefficients) and their CIs for each study\nthe overall effect size = 0.3632; it is statistically significantly different from 1 (no effect) because P &lt; 0.0001.\nThere is high heterogeneity between the studies: I2 = 99.8%, Q p-value &lt;0.001\nThe 2 sub-group effect sizes are 0.3291 (chronic) and 0.3793 (general), but the two groups are not statistically significantly different (P=0.2875)",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Correlations</span>"
    ]
  },
  {
    "objectID": "Correlation.html#the-forest-plot",
    "href": "Correlation.html#the-forest-plot",
    "title": "4  Correlations",
    "section": "4.3 The Forest Plot",
    "text": "4.3 The Forest Plot\n(See Ch6 Harrer et al.) The forest plot presents the results of the meta-analysis graphically. It uses the meta-analysis results created above which were stored in an object called m.cor.\n\n1png(file = \"forest_cor.png\", width = 3500, height = 2800, res = 300)\n\nforest(m.cor, \n       sortvar = author, \n       smlab = \"Forest Plot: Correlations\", \n       overall=TRUE, \n       studlab = TRUE,\n       ext.predict = \"Prediction interval\", \n       leftcols = c(\"author\", 'n'), \n       leftlabs = c(\"Study\", \"N\"), \n       plotwidth = \"10cm\", \n       xlab = \"Correlation coefficient r\", \n       colgap = '0.5cm', \n       colgap.forest = '0.5cm', \n       colgap.forest.left = '4.5cm', \n       xlim = c(-1,2))\n2dev.off()\n\n\n1\n\nThis line will save the plot in a png file. Can also save as a pdf() or svg(). Harrer et al. Ch6.\n\n2\n\nTurns off the png() function.\n\n\n\n\nThe forest plot has a default layout, but you can specify which columns to include to the left of the plot with leftcols() and re-title them with leftlabs(). rightcols() specifies which columns appear on the right. Other arguments specify layout - see Harrer et al. Ch 6.\nThe forest plot looks like this:",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Correlations</span>"
    ]
  },
  {
    "objectID": "Correlation.html#influence-diagnostics",
    "href": "Correlation.html#influence-diagnostics",
    "title": "4  Correlations",
    "section": "4.4 Influence Diagnostics",
    "text": "4.4 Influence Diagnostics\nInfluential cases have a large impact on the pooled effect or heterogeneity, regardless of how high or low the effect is. For example one very large study will have a high weight and may influence the pooled effect strongly. Outliers may be influential, but not always.  (a) To calculate influence diagnostics, use the InfluenceAnalysis() function (part of the dmetar package):\n\nm.cor.infl &lt;- InfluenceAnalysis(m.cor)\n\n(b) Then create a Baujat plot: this detects studies that strongly influence heterogeneity. It shows the contribution of each paper to heterogeneity on x-axis & its influence (via leave-one-out method) on the pooled effect size on y-axis. Studies in the top right have a strong effect on heterogeneity and on the pooled effect.\n\nplot(m.cor.infl, \"baujat\")\n\n\n\n\n\n\n\nClick to see the Baujat plot\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n(c) A plot of the full influence diagnostics can be seen with the plot() function. Studies thought to be influential are displayed in red.\n\nplot(m.cor.infl, \"influence\")\n\n\n\n\n\n\n\nClick to see the influence diagnostics plot plot\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nStand. residual: standardised residuals are the standardised deviation of the effect size of each paper from the pooled effect size.\nDFFITS value: reports similar effect to Stand. residuals. Indicates how much the pooled effect changes when a study is removed, expressed in standard deviations (ie how much influence the paper has).\nCook’s distance: similar to DFFITS calculation, but only has +ve values. Large value = strong influence.\nCovariance ratio: calculates how variance of the pooled effect size changes when a study is removed. Value &lt;1 indicates that removing a study results in a more precise estimate of the pooled effect size.\nTau-squared (L-O-O means Leave one out) & Q values: Tau-square (variance of the pooled effect size) and Q-values when each study is excluded.\nHat and Weight values: weight is simply the size of the study. Higher weight = greater precision of a study. Weights used to calc pooled effect size. Inverse of the variance of a study = weight. HAT value is similar.",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Correlations</span>"
    ]
  },
  {
    "objectID": "Correlation.html#publication-bias",
    "href": "Correlation.html#publication-bias",
    "title": "4  Correlations",
    "section": "4.5 Publication Bias",
    "text": "4.5 Publication Bias\nPublication bias occurs when studies, usually smaller ones, are not published because they do not report statistically significant effects. Consequently, a meta-analysis could over-emphasise an effect if such papers are excluded. Publication bias tests attempt to estimate if there might be such missing papers. Here, we will create (1) a funnel plot, (2) perform Egger’s regression test and (3) Duval & Tweedie’s trim-and-fill test. \n\n4.5.1 The Funnel Plot\nTo generate a funnel plot for the m.cor object that stores the results of the meta-analysis:\n\nfunnel(m.cor, \n1       xlab = \"Correlation, r\",\n2       studlab = TRUE,\n3       pos.studlab = 3,\n4       cex.studlab = 0.5,\n5       xlim=c(0.1, 1.0))\n\n\n1\n\nSpecifies the label on the x-axis\n\n2\n\nTo add labels to each study\n\n3\n\nThe number indicates the position of the labels. 3 means centered.\n\n4\n\nChanges the font size of the text for the study labels\n\n5\n\nUse xlim() if you want to change the range on the x-axis\n\n\n\n\n\n\n\n\n\n\nClick to see the funnel plot\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n4.5.2 Egger’s Regression\nAssesses funnel plot symmetry. If the funnel plot is symmetrical, it suggests that there are no missing studies. In this case, m.cor has subgroups. Egger’s regression test cannot be performed on a meta-analysis with subgroups. So, I will re-do the above meta-analysis without the subgroups and store it in another object called m.corE:\n\nm.corE &lt;- metacor(cor = cor, \n                 n = n,\n                 studlab = author,\n                 data = HealthWellbeing,\n                 common = FALSE,\n                 random = TRUE,\n                 method.tau = \"REML\",\n                 method.random.ci = \"HK\",\n                 title = \"Health and Wellbeing\")\n\nand then do the Egger’s regression test:\n\nmetabias(m.corE, method.bias = \"linreg\")\n\n\n\n\n\n\n\nClick to see Egger’s Regression test output\n\n\n\n\n\n\n\nReview:     Health and Wellbeing\n\nLinear regression test of funnel plot asymmetry\n\nTest result: t = 0.71, df = 27, p-value = 0.4837\nBias estimate: 3.8352 (SE = 5.4005)\n\nDetails:\n- multiplicative residual heterogeneity variance (tau^2 = 593.3930)\n- predictor: standard error\n- weight:    inverse variance\n- reference: Egger et al. (1997), BMJ\n\n\nP&gt;0.05 means the data is symmetrical, and there do not appear to be any missing studies.\n\n\n\n\n\n4.5.3 Duval & Tweedie’s trim-and-fill\nIf there is asymmetry, this imputes ‘missing’ studies and adds them until symmetry is achieved. it assumes there are small studies that are missing. It re-does the meta-analysis and estimates pooled effect size as if all studies had been included.\n\ntf.cor &lt;-  trimfill(m.cor)\ntf.cor\n\n\n\n\n\n\n\nClick to see Duval & Tweedie’s trim-and-fill output\n\n\n\n\n\n\n\nReview:     Health and Wellbeing\n\nNumber of studies: k = 29 (with 0 added studies)\n\n                        COR           95%-CI     t  p-value\nRandom effects model 0.3632 [0.3092; 0.4148] 12.81 &lt; 0.0001\n\nQuantifying heterogeneity (with 95%-CIs):\n tau^2 = 0.0241 [0.0141; 0.0436]; tau = 0.1554 [0.1186; 0.2088]\n I^2 = 99.8%; H = 24.14\n\nTest of heterogeneity:\n        Q d.f. p-value\n 16320.87   28       0\n\nDetails of meta-analysis methods:\n- Inverse variance method\n- Restricted maximum-likelihood estimator for tau^2\n- Q-Profile method for confidence interval of tau^2 and tau\n- Calculation of I^2 based on Q\n- Hartung-Knapp adjustment for random effects model (df = 28)\n- Trim-and-fill method to adjust for funnel plot asymmetry (L-estimator)\n- Fisher's z transformation of correlations\n\n\nHere, you can see that the function has not added any additional studies which it has assumed have not been published. The overall effect size remains at r=0.3632.\n\n\n\n You can then also re-do the funnel plot, using the tf.cor object that we have just created above, with the imputed studies added (NB there is no need to do this for this example data as there are no imputed missing studies, but it is done here to show you how):\n\nfunnel(tf.cor, \n       xlab = \"Correlation, r\", \n       studlab = TRUE, \n       pos.studlab = 3, \n       cex.studlab = 0.5, \n       xlim=c(0.1, 1.0))\n\n\n\n\n\n\n\nClick to see the revised funnel plot\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nThe ‘imputed’ studies that are added are shown with open circles. There are no missing studies in this example data set.",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Correlations</span>"
    ]
  },
  {
    "objectID": "Single_mean.html",
    "href": "Single_mean.html",
    "title": "5  Single mean values",
    "section": "",
    "text": "5.1 Import the data file and prepare it for analysis:\nSome papers simply report a mean value of a result for one group; they have no comparison group nor control. This chapter shows how to do a meta-analysis for data which are reported in papers as a single mean value and its standard deviation (sd). The example data shows the mean depression scores (Beck Depression Inventory II score) reported in 6 papers each of which examined depression patients who participated in psychotherapy trials.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Single mean values</span>"
    ]
  },
  {
    "objectID": "Single_mean.html#import-the-data-file-and-prepare-it-for-analysis",
    "href": "Single_mean.html#import-the-data-file-and-prepare-it-for-analysis",
    "title": "5  Single mean values",
    "section": "",
    "text": "Click to see guidance to import and prepare the data\n\n\n\n\n\n\nDownload the example Excel file BdiScoresmean.xlsx from Canvas and save it to your working directory (remember to set the location where you save this file as your working directory in RStudio).\nImport the file to R and store it as a dataframe object called BdiScores:\n\n\n1BdiScores &lt;- import(\"BdiScoresmean.xlsx\")\n2BdiScores\n\nBdiScores |&gt;\n3  summarise_all(class)\n\n\n1\n\nImports the excel file from your working directory and stores it as an object called BdiScores\n\n2\n\nView the BdiScores dataframe\n\n3\n\nSee the types of data in each column\n\n\n\n\n\n\n\n\nauthor\nn\nmean\nsd\n\n\n\n\nDeRubeis, 2005\n180\n32.6\n9.4\n\n\nDimidjian, 2006\n145\n31.9\n7.4\n\n\nDozois, 2009\n48\n28.6\n9.9\n\n\nLesperance, 2007\n142\n30.3\n9.1\n\n\nMcBride, 2007\n301\n31.9\n9.2\n\n\nQuilty, 2014\n104\n29.8\n8.6\n\n\n\n\n\n\n\n\nauthor\nn\nmean\nsd\n\n\n\n\ncharacter\nnumeric\nnumeric\nnumeric\n\n\n\n\n\n\nWe can see that the data are stored as numeric values, and this is OK.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Single mean values</span>"
    ]
  },
  {
    "objectID": "Single_mean.html#the-meta-analysis",
    "href": "Single_mean.html#the-meta-analysis",
    "title": "5  Single mean values",
    "section": "5.2 The meta-analysis",
    "text": "5.2 The meta-analysis\n(See Ch4 Harrer et al.) This will use a random effects model using the imported data stored in the BdiScores object and the metamean() function. The meta-analysis results are stored in an object called metaBdi. This meta-analysis will compare the mean values reported by the 6 papers.\n\n1metaBdi &lt;- metamean(n = n,\n2                   mean = mean,\n3                   sd = sd,\n4                   studlab = author,\n5                   data = BdiScores,\n6                   sm = \"MRAW\",\n                   common = FALSE,\n7                   random = TRUE,\n8                   method.tau = \"REML\",\n9                   method.random.ci = \"HK\",\n10                   title = \"BDI-II Scores\",\n11                   prediction = TRUE)\n12summary(metaBdi)\n\n\n1\n\nThe number of participants is in a column called ‘n’\n\n2\n\nThe mean values are in a column headed ‘mean’\n\n3\n\nThe sd values are in a column headed ‘sd’\n\n4\n\nThe names of each study are in a column headed ‘author’\n\n5\n\nThe data is in a dataframe object called ‘BdiScores’\n\n6\n\nRaw (untransformed) mean values are used. (If means cannot be negative, it may be best to log-transform the data with sm=\"MLN\")\n\n7\n\nA random effects model is used\n\n8\n\nMethod used to calculate tau squared. REML=restricted maximum likelihood\n\n9\n\nConfidence Intervals calculated with Hartung-Knapp adjustment\n\n10\n\nThe title for the output\n\n11\n\nInsert the prediction interval\n\n12\n\nProduces the output\n\n\n\n\n\n\n\n\n\n\nClick to see the output of the meta-analysis\n\n\n\n\n\n\n\nReview:     BDI-II Scores\n\n                    mean             95%-CI %W(random)\nDeRubeis, 2005   32.6000 [31.2268; 33.9732]       18.0\nDimidjian, 2006  31.9000 [30.6955; 33.1045]       19.4\nDozois, 2009     28.6000 [25.7993; 31.4007]        9.1\nLesperance, 2007 30.3000 [28.8033; 31.7967]       17.0\nMcBride, 2007    31.9000 [30.8607; 32.9393]       20.7\nQuilty, 2014     29.8000 [28.1472; 31.4528]       15.8\n\nNumber of studies: k = 6\nNumber of observations: o = 920\n\n                        mean             95%-CI\nRandom effects model 31.1221 [29.6656; 32.5786]\nPrediction interval          [28.1036; 34.1406]\n\nQuantifying heterogeneity (with 95%-CIs):\n tau^2 = 1.0937 [0.0603; 12.9913]; tau = 1.0458 [0.2456; 3.6043]\n I^2 = 64.3% [13.8%; 85.2%]; H = 1.67 [1.08; 2.60]\n\nTest of heterogeneity:\n     Q d.f. p-value\n 14.00    5  0.0156\n\nDetails of meta-analysis methods:\n- Inverse variance method\n- Restricted maximum-likelihood estimator for tau^2\n- Q-Profile method for confidence interval of tau^2 and tau\n- Calculation of I^2 based on Q\n- Hartung-Knapp adjustment for random effects model (df = 5)\n- Prediction interval based on t-distribution (df = 5)\n- Untransformed (raw) means\n\n\n\n\n\nThe output shows:\n\nthe effect sizes (the mean values) and their CIs for each study\nthe overall effect size (mean) = 31.1221.\nThere is moderate heterogeneity between the studies: I2 = 64.3%, Q p-value = 0.0156",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Single mean values</span>"
    ]
  },
  {
    "objectID": "Single_mean.html#the-forest-plot",
    "href": "Single_mean.html#the-forest-plot",
    "title": "5  Single mean values",
    "section": "5.3 The Forest Plot",
    "text": "5.3 The Forest Plot\n(See Ch6 Harrer et al.) The forest plot presents the results of the meta-analysis graphically. It uses the meta-analysis results created above which were stored in an object called metaBdi.\n\n1png(file = \"forest_mean.png\", width = 3000, height = 1100, res = 300)\n\nforest(metaBdi, \n       sortvar = author, \n       smlab = \"Forest Plot: Mean Values\", \n       overall=TRUE, \n       studlab = TRUE, \n       text.predict = \"Prediction interval\", \n       leftcols = c(\"author\", 'n'), \n       leftlabs = c(\"Study\", \"N\"),  \n       rightlabs = c(\"Mean\", \"95% CI\", \"Weight\"), \n       plotwidth = \"7cm\", \n       xlab = \"Mean value\", \n       colgap = '0.5cm', \n       colgap.forest = '0.5cm', \n       colgap.forest.left = '4.0cm')\n2dev.off()\n\n\n1\n\nThis line will save the plot in a png file. Can also save as a pdf() or svg(). Harrer et al. Ch6.\n\n2\n\nTurns off the png() function.\n\n\n\n\nBy default, the columns to the left of the plot will include study label and N. You can specify which columns to include with leftcols(). rightcols() specifies which columns appear on the right and leftlabs() and rightlabs() specify their titles (you can type in whatever you like within the inverted commas). Other arguments specify layout - see Harrer et al. Ch 6.\nThe forest plot looks like this:",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Single mean values</span>"
    ]
  },
  {
    "objectID": "Single_mean.html#influence-diagnostics",
    "href": "Single_mean.html#influence-diagnostics",
    "title": "5  Single mean values",
    "section": "5.4 Influence Diagnostics",
    "text": "5.4 Influence Diagnostics\nInfluential cases have a large impact on the pooled effect or heterogeneity, regardless of how high or low the effect is. For example one very large study will have a high weight and may influence the pooled effect strongly. Outliers may be influential, but not always.  (a) To calculate influence diagnostics, use the InfluenceAnalysis() function (part of the dmetar package):\n\nmeta.mean.infl &lt;- InfluenceAnalysis(metaBdi)\n\n(b) Then create a Baujat plot: this detects studies that strongly influence heterogeneity. It shows the contribution of each paper to heterogeneity on x-axis & its influence (via leave-one-out method) on the pooled effect size on y-axis. Studies in the top right have a strong effect on heterogeneity and on the pooled effect.\n\nplot(meta.mean.infl, \"baujat\")\n\n\n\n\n\n\n\nClick to see the Baujat plot\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n(c) A plot of the full influence diagnostics can be seen with the plot() function. Studies thought to be influential are displayed in red.\n\nplot(meta.mean.infl, \"influence\")\n\n\n\n\n\n\n\nClick to see the influence diagnostics plot plot\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nStand. residual: standardised residuals are the standardised deviation of the effect size of each paper from the pooled effect size.\nDFFITS value: reports similar effect to Stand. residuals. Indicates how much the pooled effect changes when a study is removed, expressed in standard deviations (ie how much influence the paper has).\nCook’s distance: similar to DFFITS calculation, but only has +ve values. Large value = strong influence.\nCovariance ratio: calculates how variance of the pooled effect size changes when a study is removed. Value &lt;1 indicates that removing a study results in a more precise estimate of the pooled effect size.\nTau-squared (L-O-O means Leave one out) & Q values: Tau-square (variance of the pooled effect size) and Q-values when each study is excluded.\nHat and Weight values: weight is simply the size of the study. Higher weight = greater precision of a study. Weights used to calc pooled effect size. Inverse of the variance of a study = weight. HAT value is similar.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Single mean values</span>"
    ]
  },
  {
    "objectID": "Single_mean.html#publication-bias",
    "href": "Single_mean.html#publication-bias",
    "title": "5  Single mean values",
    "section": "5.5 Publication Bias",
    "text": "5.5 Publication Bias\nPublication bias occurs when studies, usually smaller ones, are not published because they do not report statistically significant effects. Consequently, a meta-analysis could over-emphasise an effect if such papers are excluded. Publication bias tests attempt to estimate if there might be such missing papers. Here, we will create (1) a funnel plot, (2) perform Egger’s regression test and (3) Duval & Tweedie’s trim-and-fill test. \n\n5.5.1 The Funnel Plot\nTo generate a funnel plot for the metaBdi object that stores the results of the meta-analysis:\n\nfunnel(metaBdi, \n1       xlab = \"Mean\",\n2       studlab = TRUE,\n3       pos.studlab = 3,\n4       cex.studlab = 0.6,\n5       xlim=c(28, 34.5))\n\n\n1\n\nSpecifies the label on the x-axis\n\n2\n\nTo add labels to each study\n\n3\n\nThe number indicates the position of the labels. 3 means centered.\n\n4\n\nChanges the font size of the text for the study labels\n\n5\n\nUse xlim() if you want to change the range on the x-axis\n\n\n\n\n\n\n\n\n\n\nClick to see the funnel plot\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n5.5.2 Egger’s Regression\nAssesses funnel plot symmetry. If the funnel plot is symmetrical, it suggests that there are no missing studies.\n\nmetabias(metaBdi, method.bias = \"linreg\", k.min = 6)\n\nNB used k.min=6 to make it do the test with less than 10 studies. We only have 6 studies here. Analyses with &lt;10 studies may lack power in Egger’s test.\n\n\n\n\n\n\nClick to see Egger’s Regression test output\n\n\n\n\n\n\n\nReview:     BDI-II Scores\n\nLinear regression test of funnel plot asymmetry\n\nTest result: t = -2.41, df = 4, p-value = 0.0739\nBias estimate: -4.4627 (SE = 1.8549)\n\nDetails:\n- multiplicative residual heterogeneity variance (tau^2 = 1.4302)\n- predictor: standard error\n- weight:    inverse variance\n- reference: Egger et al. (1997), BMJ\n\n\nP &gt; 0.05 means the data is symmetrical, and there do not appear to be any missing studies.\n\n\n\n\n\n\n5.5.3 Duval & Tweedie’s trim-and-fill\nIf there is asymmetry, this imputes ‘missing’ studies and adds them until symmetry is achieved. It assumes there are small studies that are missing. It re-does the meta-analysis and estimates pooled effect size as if all studies had been included.\n\ntf.Bdi &lt;-  trimfill(metaBdi)\ntf.Bdi\n\n\n\n\n\n\n\nClick to see Duval & Tweedie’s trim-and-fill output\n\n\n\n\n\n\n\nReview:     BDI-II Scores\n\nNumber of studies: k = 8 (with 2 added studies)\n\n                        mean             95%-CI\nRandom effects model 31.7251 [30.1342; 33.3160]\nPrediction interval          [27.8297; 35.6205]\n\nQuantifying heterogeneity (with 95%-CIs):\n tau^2 = 2.3247 [0.5976; 16.6100]; tau = 1.5247 [0.7730; 4.0755]\n I^2 = 73.0% [44.9%; 86.8%]; H = 1.92 [1.35; 2.75]\n\nTest of heterogeneity:\n     Q d.f. p-value\n 25.93    7  0.0005\n\nDetails of meta-analysis methods:\n- Inverse variance method\n- Restricted maximum-likelihood estimator for tau^2\n- Q-Profile method for confidence interval of tau^2 and tau\n- Calculation of I^2 based on Q\n- Hartung-Knapp adjustment for random effects model (df = 7)\n- Prediction interval based on t-distribution (df = 7)\n- Trim-and-fill method to adjust for funnel plot asymmetry (L-estimator)\n- Untransformed (raw) means\n\n\nHere, you can see that the function has added two additional studies which it has assumed have not been published. The new overall mean effect size is 31.7251 (increased slightly from 31.12). But the heterogeneity has increased from I2=64.3% to 73.0%.\n\n\n\n You can then also re-do the funnel plot, using the tf.Bdi object that we have just created above, with the imputed studies added:\n\nfunnel(tf.Bdi, \n       xlab = \"Mean\", \n       studlab = TRUE, \n       pos.studlab = 3, \n       cex.studlab = 0.6, \n       xlim=c(28, 36))\n\n\n\n\n\n\n\nClick to see the revised funnel plot\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nThe ‘imputed’ studies that are added are shown with open circles. Two imputed studies have been added to the right to balance the more extreme results reported by Quilty and Dozois.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Single mean values</span>"
    ]
  },
  {
    "objectID": "Proportions.html",
    "href": "Proportions.html",
    "title": "6  Proportions",
    "section": "",
    "text": "6.1 Import the data file and prepare it for analysis\nSome data are reported in the form of numbers of subjects responding in a particular way out of a total number of subjects studied, ie the proportion responding. For example, the data set used in this chapter records the data collected by 15 papers that examined the 12-month prevalence of prescription opioid misuse among adolescents and young adults in the United States. Data were reported as the proportion of total people in a study who misused the drug.",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Proportions</span>"
    ]
  },
  {
    "objectID": "Proportions.html#import-the-data-file-and-prepare-it-for-analysis",
    "href": "Proportions.html#import-the-data-file-and-prepare-it-for-analysis",
    "title": "6  Proportions",
    "section": "",
    "text": "Click to see guidance to import and prepare the data\n\n\n\n\n\n\nDownload the example Excel file OpioidMisuse.xlsx from Canvas and save it to your working directory (remember to set the location where you save this file as your working directory in RStudio).\nImport the file to R and store it as a dataframe object called OpioidMisuse:\n\n\n1OpioidMisuse &lt;- import(\"OpioidMisuse.xlsx\")\n2OpioidMisuse\n\nOpioidMisuse |&gt;\n3  summarise_all(class)\n\n\n1\n\nImports the excel file from your working directory and stores it as an object called OpioidMisuse\n\n2\n\nView the OpioidMisuse dataframe\n\n3\n\nSee the types of data in each column\n\n\n\n\n\n\n\n\nauthor\nevent\nn\n\n\n\n\nBecker, 2008\n2186\n21826\n\n\nBoyd, 2009\n91\n912\n\n\nBoyd, 2007\n126\n1084\n\n\nCerda, 2014\n543\n7646\n\n\nFiellin, 2013\n6496\n55215\n\n\nJones, 2013\n10850\n114783\n\n\nLord, 2011\n86\n527\n\n\nMcCabe, 2005\n668\n9403\n\n\nMcCabe, 2012\n843\n11274\n\n\nMcCabe, 2013\n647\n8888\n\n\nNakawai, 2012\n11521\n126764\n\n\nSung, 2005\n1111\n11554\n\n\nTetrault, 2007\n2090\n16599\n\n\nWu, 2008\n2193\n25127\n\n\nZullig, 2012\n1913\n22783\n\n\n\n\n\n\n\n\nauthor\nevent\nn\n\n\n\n\ncharacter\nnumeric\nnumeric\n\n\n\n\n\n\nWe can see that the data are stored as numeric values, and this is OK.",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Proportions</span>"
    ]
  },
  {
    "objectID": "Proportions.html#the-meta-analysis",
    "href": "Proportions.html#the-meta-analysis",
    "title": "6  Proportions",
    "section": "6.2 The meta-analysis",
    "text": "6.2 The meta-analysis\n(See Ch4 Harrer et al.) This will use a random effects model using the imported data stored in the OpioidMisuse object and the metaprop() function. The meta-analysis results are stored in an object called opioid. This meta-analysis will compare the proportions of misuse reported by the 15 papers.\n\n1opioid &lt;- metaprop(event = event,\n2                   n = n,\n3                   studlab = author,\n4                   data = OpioidMisuse,\n                   method = \"GLMM\",  \n5                   sm = \"PLOGIT\",\n                   common = FALSE,\n6                   random = TRUE,\n7                   method.random.ci = \"HK\",\n8                   title = \"Opioid Misuse\",\n9                   prediction = TRUE)\n10summary(opioid)\n\n\n1\n\nThe number of events (misuse) are in a column headed ‘event’\n\n2\n\nThe total number of participants is in a column called ‘n’\n\n3\n\nThe names of each study are in a column headed ‘author’\n\n4\n\nThe data is in a dataframe object called ‘OpioidMisuse’\n\n5\n\nmetaprop automatically logit-transforms proportions before analysis using sm = “PLOGIT” (raw proportions pooled by using sm = “PRAW”)\n\n6\n\nA random effects model is used\n\n7\n\nConfidence Intervals calculated with Hartung-Knapp adjustment\n\n8\n\nThe title for the output\n\n9\n\nInsert the prediction interval\n\n10\n\nProduces the output\n\n\n\n\n\n\n\n\n\n\nClick to see the output of the meta-analysis\n\n\n\n\n\n\n\nReview:     Opioid Misuse\n\n               proportion           95%-CI\nBecker, 2008       0.1002 [0.0962; 0.1042]\nBoyd, 2009         0.0998 [0.0811; 0.1211]\nBoyd, 2007         0.1162 [0.0978; 0.1368]\nCerda, 2014        0.0710 [0.0654; 0.0770]\nFiellin, 2013      0.1176 [0.1150; 0.1204]\nJones, 2013        0.0945 [0.0928; 0.0962]\nLord, 2011         0.1632 [0.1327; 0.1976]\nMcCabe, 2005       0.0710 [0.0659; 0.0764]\nMcCabe, 2012       0.0748 [0.0700; 0.0798]\nMcCabe, 2013       0.0728 [0.0675; 0.0784]\nNakawai, 2012      0.0909 [0.0893; 0.0925]\nSung, 2005         0.0962 [0.0908; 0.1017]\nTetrault, 2007     0.1259 [0.1209; 0.1311]\nWu, 2008           0.0873 [0.0838; 0.0908]\nZullig, 2012       0.0840 [0.0804; 0.0876]\n\nNumber of studies: k = 15\nNumber of observations: o = 434385\nNumber of events: e = 41364\n\n                     proportion           95%-CI\nRandom effects model     0.0944 [0.0836; 0.1066]\nPrediction interval             [0.0582; 0.1498]\n\nQuantifying heterogeneity (with 95%-CIs):\n tau^2 = 0.0558; tau = 0.2362; I^2 = 98.3% [97.9%; 98.7%]; H = 7.74 [6.92; 8.66]\n\nTest of heterogeneity:\n           Q d.f.  p-value\n Wald 838.21   14 &lt; 0.0001\n LRT  826.87   14 &lt; 0.0001\n\nDetails of meta-analysis methods:\n- Random intercept logistic regression model\n- Maximum-likelihood estimator for tau^2\n- Calculation of I^2 based on Q\n- Random effects confidence interval based on t-distribution (df = 14)\n- Prediction interval based on t-distribution (df = 14)\n- Logit transformation\n- Clopper-Pearson confidence interval for individual studies\n\n\n\n\n\nThe output shows:\n\nthe effect sizes (the proportions of people misusing opioids) and their CIs for each study\nthe overall effect size (proportion) = 0.0944, or 9.4%.\nThere is high heterogeneity between the studies: I2 = 98.3%, Q p-value &lt; 0.0001",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Proportions</span>"
    ]
  },
  {
    "objectID": "Proportions.html#the-forest-plot",
    "href": "Proportions.html#the-forest-plot",
    "title": "6  Proportions",
    "section": "6.3 The Forest Plot",
    "text": "6.3 The Forest Plot\n(See Ch6 Harrer et al.) The forest plot presents the results of the meta-analysis graphically. It uses the meta-analysis results created above which were stored in an object called metaBdi.\n\n1png(file = \"forest_PROP.png\", width = 3500, height = 1600, res = 300)\n\nforest(opioid, \n        sortvar = author, \n        smlab = \"Forest Plot: Proportions\", \n        overall=TRUE, \n        studlab = TRUE, \n        text.predict = \"Prediction interval\", \n        leftlabs = c(\"Study\", \"Events\", \"N\"), \n        plotwidth = \"10cm\", \n        xlab = \"Proportion\", \n        colgap = '0.5cm', \n        colgap.forest = '0.5cm', \n        colgap.forest.left = '3.0cm')\n2dev.off()\n\n\n1\n\nThis line will save the plot in a png file. Can also save as a pdf() or svg(). Harrer et al. Ch6.\n\n2\n\nTurns off the png() function.\n\n\n\n\nBy default, the columns to the left of the plot will include study label, events and N. You can specify which columns to include with leftcols(). rightcols() specifies which columns appear on the right. Other arguments specify the layout - see Harrer et al. Ch 6.\nThe forest plot looks like this:\n\n\n\n\n\n\n\nNB A meta-analysis of proportions does not weight the different studies by its size (ie how many participants here were). Consequently, the size of each box representing the effect size in the forest plot is the same.",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Proportions</span>"
    ]
  },
  {
    "objectID": "Proportions.html#influence-diagnostics",
    "href": "Proportions.html#influence-diagnostics",
    "title": "6  Proportions",
    "section": "6.4 Influence Diagnostics",
    "text": "6.4 Influence Diagnostics\nInfluential cases have a large impact on the pooled effect or heterogeneity, regardless of how high or low the effect is. For example one very large study will have a high weight and may influence the pooled effect strongly. Outliers may be influential, but not always.  (a) To calculate influence diagnostics, use the InfluenceAnalysis() function (part of the dmetar package):\n\nmeta.prop.infl &lt;- InfluenceAnalysis(opioid)\n\n(b) Then create a Baujat plot: this detects studies that strongly influence heterogeneity. It shows the contribution of each paper to heterogeneity on x-axis & its influence (via leave-one-out method) on the pooled effect size on y-axis. Studies in the top right have a strong effect on heterogeneity and on the pooled effect.\n\nplot(meta.prop.infl, \"baujat\")\n\n\n\n\n\n\n\nClick to see the Baujat plot\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n(c) A plot of the full influence diagnostics can be seen with the plot() function. Studies thought to be influential are displayed in red.\n\nplot(meta.prop.infl, \"influence\")\n\n\n\n\n\n\n\nClick to see the influence diagnostics plot plot\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nStand. residual: standardised residuals are the standardised deviation of the effect size of each paper from the pooled effect size.\nDFFITS value: reports similar effect to Stand. residuals. Indicates how much the pooled effect changes when a study is removed, expressed in standard deviations (ie how much influence the paper has).\nCook’s distance: similar to DFFITS calculation, but only has +ve values. Large value = strong influence.\nCovariance ratio: calculates how variance of the pooled effect size changes when a study is removed. Value &lt;1 indicates that removing a study results in a more precise estimate of the pooled effect size.\nTau-squared (L-O-O means Leave one out) & Q values: Tau-square (variance of the pooled effect size) and Q-values when each study is excluded.\nHat and Weight values: weight is simply the size of the study. Higher weight = greater precision of a study. Weights used to calc pooled effect size. Inverse of the variance of a study = weight. HAT value is similar.",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Proportions</span>"
    ]
  },
  {
    "objectID": "Proportions.html#publication-bias",
    "href": "Proportions.html#publication-bias",
    "title": "6  Proportions",
    "section": "6.5 Publication Bias",
    "text": "6.5 Publication Bias\nPublication bias occurs when studies, usually smaller ones, are not published because they do not report statistically significant effects. Consequently, a meta-analysis could over-emphasise an effect if such papers are excluded. Publication bias tests attempt to estimate if there might be such missing papers. Here, we will create (1) a funnel plot, (2) perform Egger’s regression test and (3) Duval & Tweedie’s trim-and-fill test. \n\n6.5.1 The Funnel Plot\nTo generate a funnel plot for the opioid object that stores the results of the meta-analysis:\n\nfunnel(opioid, \n1       xlab = \"Logit-transformed Proportion\",\n2       studlab = TRUE,\n3       pos.studlab = 3,\n4       cex.studlab = 0.6,\n5       xlim=c(-2.6, -1.6))\n\n\n1\n\nSpecifies the label on the x-axis\n\n2\n\nTo add labels to each study\n\n3\n\nThe number indicates the position of the labels. 3 means centered.\n\n4\n\nChanges the font size of the text for the study labels\n\n5\n\nUse xlim() if you want to change the range on the x-axis\n\n\n\n\n\n\n\n\n\n\nClick to see the funnel plot\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNB You will note that the scale of the x-axis, which shows the proportions, is different to that in the forest plot. This is because these are logit-transformed values which are used in the meta-analysis calculations for proportions. They were coverted back to proportions in the forest plot, but not for the funnel plot.\n\n\n\n\n\n\n6.5.2 Egger’s Regression\nAssesses funnel plot symmetry. If the funnel plot is symmetrical, it suggests that there are no missing studies.\n\nmetabias(opioid, method.bias = \"peters\")\n\nNB You can use k.min=6 in the argument (ie in the brackets above)to make it do the test with less than 10 studies. Analyses with &lt;10 studies may lack power in Egger’s test.\n\n\n\n\n\n\nClick to see Egger’s Regression test output\n\n\n\n\n\n\n\nReview:     Opioid Misuse\n\nLinear regression test of funnel plot asymmetry\n\nTest result: t = 0.36, df = 13, p-value = 0.7252\nBias estimate: 133.3178 (SE = 371.0665)\n\nDetails:\n- multiplicative residual heterogeneity variance (tau^2 = 63.8438)\n- predictor: inverse of total sample size\n- weight:    inverse variance of average event probability\n- reference: Peters et al. (2006), JAMA\n\n\nP &gt; 0.05 means the data is symmetrical, and there do not appear to be any missing studies.\n\n\n\n\n\n\n6.5.3 Duval & Tweedie’s trim-and-fill\nIf there is asymmetry, this imputes ‘missing’ studies and adds them until symmetry is achieved. It assumes there are small studies that are missing. It re-does the meta-analysis and estimates pooled effect size as if all studies had been included.\n\ntf.prop &lt;-  trimfill(opioid)\ntf.prop\n\n\n\n\n\n\n\nClick to see Duval & Tweedie’s trim-and-fill output\n\n\n\n\n\n\n\nReview:     Opioid Misuse\n\nNumber of studies: k = 16 (with 1 added studies)\n\n                     proportion           95%-CI\nRandom effects model     0.0965 [0.0849; 0.1095]\nPrediction interval             [0.0585; 0.1552]\n\nQuantifying heterogeneity (with 95%-CIs):\n tau^2 = 0.0607; tau = 0.2464; I^2 = 98.3% [97.9%; 98.7%]; H = 7.72 [6.93; 8.61]\n\nTest of heterogeneity:\n      Q d.f.  p-value\n 894.92   15 &lt; 0.0001\n\nDetails of meta-analysis methods:\n- Inverse variance method\n- Maximum-likelihood estimator for tau^2\n- Calculation of I^2 based on Q\n- Hartung-Knapp adjustment for random effects model (df = 15)\n- Prediction interval based on t-distribution (df = 15)\n- Trim-and-fill method to adjust for funnel plot asymmetry (L-estimator)\n- Logit transformation\n\n\nHere, you can see that the function has added one additional study which it has assumed has not been published. The new overall mean effect size is 9.65% (increased slightly from 9.44%). The heterogeneity has stayed the same at I2=98.3%.\n\n\n\n You can then also re-do the funnel plot, using the tf.prop object that we have just created above, with the imputed studies added:\n\nfunnel(tf.prop, \n       xlab = \"Proportion\", \n       studlab = TRUE, \n       pos.studlab = 3, \n       cex.studlab = 0.6, \n       xlim = c(-2.6, -1.6))\n\n\n\n\n\n\n\nClick to see the revised funnel plot\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nThe ‘imputed’ studies that are added are shown with open circles. One imputed study has been added to the right to create more symmetry in the distibution of studies in the funnel plot.",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Proportions</span>"
    ]
  }
]